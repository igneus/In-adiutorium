% Definice prikazu uzivanych ve vsech svazcich antifonare

% Predpokladane balicky: 
% datetime, hyperref

%
% spolecna nastaveni
%

\setlength{\parindent}{0.4cm}

%
% Titulni strana a tiraz svazku antifonare.
% prikazy vyuzivaji prikazy, ktere musi byt
% definovany v dokumentu:
% \soubornyNazev, \edicniRada, \nazev, \cisloSvazku, \autor, \textDoTiraze
%

\newcommand{\titulniStrankaSvazkuAntifonare}{
  \pagestyle{empty} % bez hlavicky a bez cisla stranky
  \begin{titlepage}
    \begin{center}
      \soubornyNazev

      \vspace{0.5cm}

      \edicniRada
      
      svazek \cisloSvazku
      
      \vspace*{6cm}
      
      {\Huge \textbf{\nazev}}
          
      \vspace{1cm}
      
      {\large \autor}
      
      \vfill
      In adiutorium
      
      \onlyyeardate \today
    \end{center}
  \end{titlepage}
}

\newcommand{\patitulSvazkuAntifonare}{
  \begin{center}
    \soubornyNazev

    \nazev
  \end{center}

  \vfill
}

\newcommand{\frontispisSvazkuAntifonare}{
  \mbox{}
}

\newcommand{\tirazProjekt}{
  projekt In adiutorium - hudba k české liturgii hodin\\  
    \url{http://inadiutorium.xf.cz}
}

\newcommand{\lilypondbookVersion}{
  \input{|"lilypond-book --version"}
}

\newcommand{\tirazSazbaProgramem}{
  Sazba programy \LaTeX\mbox{} a LilyPond % \lilypondbookVersion
}

\newcommand{\tirazSvazkuAntifonare}{
  \pagestyle{empty} % bez hlavicky a bez cisla stranky
  \setlength{\parskip}{0.6cm}

  \begin{center}
    \soubornyNazev\\
    \edicniRada, svazek \cisloSvazku
    
    {\Large \textbf{\nazev}}

    {\large \autor}

    \tirazProjekt
    
    \tirazSazbaProgramem
  \end{center}

  \setlength{\parindent}{0cm} % prvni radek odstavce neodsazovat
  \textDoTiraze

  \begin{center}
    \dmyyyydate \today
  \end{center}
}

%
% Standartni licencni poznamka pouzitelna pro vetsinu svazku
% Antifonare k Denni modlitbe cirkve
%

\newcommand{\licencniPoznamka}{%
  Používání \emph{nápěvů} je vázáno licencí 
  \href{http://creativecommons.org/licenses/by-sa/3.0/deed.cs}{Creative Commons 
    At\-tri\-bu\-tion-\-Sha\-re-A\-li\-ke 3.0 Unported},
  která dává komukoli právo je dále šířit, upravovat a využívat
  ve svých vlastních dílech, za předpokladu, že uvede informaci
  o autorovi původního díla a při dalším šíření zachová původní licenční 
  podmínky.
  (Výjimku představují nápěvy převzaté z jiných publikací - je to vždy
  výslovně uvedeno. Tyto nápěvy vesměs patří k prastarému pokladu
  gregoriánského chorálu a jsou tedy public domain.)
  
  \emph{Texty Denní modlitby církve} 
  jsou majetkem České biskupské konference. 
  Výše uvedenou licenci proto nelze vztahovat na antifonář jako celek -
  týká se pouze jeho hudební složky.

  Texty žalmů a kantik jsou převzaté z webu \url{http://ebreviar.cz},
  jehož tvůrcům za jejich práci tímto srdečně děkuji.
  Z textů je vypuštěno to, co se zdá být pro modlitbu v chóru
  nadbytečné nebo rušivé (číslování žalmů i podle Vulgáty,
  nadpisy žalmů a připojené citáty z Písma a Otců)
  a kde jsem shledal odchylky od vydání breviáře z r. 1994, jsou
  podle něj opraveny.
}

%
% Vyrobi prazdnou stranku
%

\newcommand{\prazdnaStranka}{
  \newpage \mbox{}
  \newpage
}

%
% Nasledujici prikazy vyrabeji hlavicku a paticku pro
% male materialy obsahem a razem podobne materialum
% z LilyPondu
%

\newcommand{\malyTitulek}{
  \begin{center}
    {\large \textbf{\nazev}}
  \end{center}
  \begin{flushright}
    \autor
  \end{flushright}
}

\newcommand{\malaTiraz}{
  datum: \dmyyyydate \today
  
  licence: Creative Commons Attribution-ShareAlike 3.0 Unported
  
  projekt: In adiutorium - noty k liturgii hodin (http://inadiutorium.xf.cz)
  
  sazba programy \LaTeX a LilyPond \lilypondbookVersion
}

% cesky format data:
\renewcommand{\dateseparator}{.}

% format data, kde je jen rok
\newdateformat{onlyyeardate}{%
\THEYEAR}


%
% Nasledujici prikazy slouzi strukturovani uvnitr textu antifonare
%

% tyden
\newcommand{\nadpisTyden}[2]{
  \begin{center}
  {\LARGE \textsc{#1}}
  \end{center}
  \fancyhead[CE]{#2}
  \addcontentsline{toc}{section}{#2}
}

% den
\newcommand{\nadpisDen}[1]{
  \begin{center}
  {\LARGE #1}
  \end{center}
  \fancyhead[CO]{#1}
  \addcontentsline{toc}{subsection}{#1}
}

% hodinka
\newcommand{\nadpisHodinka}[1]{
  \begin{center}
  \textbf{#1}
  \end{center}
  \nopagebreak
}

% invitatorium samozrejme neni samostatna hodinka,
% ale tim, ze muze byt soucasti dvou ruznych,
% se funkcne osamostatnilo a davame mu nadpis na urovni hodinky
\newcommand{\invitatorium}{
  \nadpisHodinka{Invitatorium}
}

\newcommand{\modlitbaSeCtenim}{
  \nadpisHodinka{Modlitba se čtením}
}

\newcommand{\ranniChvaly}{
  \nadpisHodinka{Ranní chvály}
}

\newcommand{\modlitbaUprostredDne}{
  \nadpisHodinka{Modlitba uprostřed dne}
}

\newcommand{\nespory}{
  \nadpisHodinka{Nešpory}
}

\newcommand{\nesporyI}{
  \nadpisHodinka{První nešpory}
}

\newcommand{\nesporyII}{
  \nadpisHodinka{Druhé nešpory}
}

\newcommand{\kompletar}{
  \nadpisHodinka{Kompletář}
}

% nadpis hodinky uzivany v indexu svatku svatecniho zaltare
\newcommand{\nadpisHodinkaVIndexu}[1]{
  \noindent \underline{#1:}
}

% Varianty tech samych prikazu pro index svatku:
\newcommand{\idxModlitbaSeCtenim}{
  \nadpisHodinkaVIndexu{MČ}
}

\newcommand{\idxVigilie}{
  \nadpisHodinkaVIndexu{VI}
}

\newcommand{\idxRanniChvaly}{
  \nadpisHodinkaVIndexu{RCH}
}

\newcommand{\idxModlitbaUprostredDne}{
  \nadpisHodinkaVIndexu{MU}
}

\newcommand{\idxNespory}{
  \nadpisHodinkaVIndexu{N}
}

\newcommand{\idxNesporyI}{
  \nadpisHodinkaVIndexu{1N}
}

\newcommand{\idxNesporyII}{
  \nadpisHodinkaVIndexu{2N}
}

\newcommand{\idxKompletar}{
  \nadpisHodinkaVIndexu{K}
}

\newenvironment{idxObsahHory}{}{}


% Cilem je, aby tento nadpis nad sebou nemel tolik mista
% a tak umoznoval "prilepeni" predchazejici rubriky.
\newcommand{\nadpisZalmuBezMezery}[1]{%

  % prostredi center si svevolne pridava
  % dodatecny vertikalni prostor - musime ho tedy umele ubrat:
  \vspace{-5mm}%
  \begin{center}%
    \textbf{#1}%
  \end{center}%
  \nopagebreak%
}

% obvykle napr. "zalm 94"
\newcommand{\nadpisZalmu}[1]{%
  \vspace{2mm}%
  \begin{center}%
    \textbf{#1}%
  \end{center}%
  \nopagebreak%
}

\newcommand{\titulusPsalmi}[1]{\nadpisZalmu{#1}}


% Napr. "hymnus", "responsorium", "zalmy"
\newcommand{\nadpisTypTextu}[1]{
  \begin{flushleft}
  \noindent
  \textsc{#1}
  \end{flushleft}
  \nopagebreak
}

% rubrikovany text - treba i pro vlozeni do nerubrikovaneho
\newcommand{\rubr}[1]{%
  \textit{#1}%
}

% rubrika - samostatna
\newcommand{\rubrika}[1]{
  \vspace{2mm}
  \rubr{#1}
  \vspace{2mm}
}

% mezera, kterou se oddeli rubrika od textu, ke kteremu se _nevztahuje_,
% aby byla vic prilepena k tomu, ke kteremu se vztahuje
\newcommand{\rubrikaMezera}{
  \vspace{4mm}
}

% rubrika - predchazejici
\newcommand{\rubrikaPred}[1]{
  \rubrikaMezera
  % \textit{#1}
  \rubr{#1}
  \vspace{1mm}
}

% rubrika - nasledujici
\newcommand{\rubrikaPo}[1]{
  \vspace{1mm}
  % \textit{#1}
  \rubr{#1}
  \rubrikaMezera
}

% mezera pred hvezdickou pulici vers zalmu muze byt v pripade potreby
% zcela zkomprimovana
\newcommand{\asterisk}{%
\nobreak\hskip \fontdimen1\font plus \fontdimen2\font minus \fontdimen1\font
* }

\newcommand{\flexa}{%
\nobreak\hskip \fontdimen1\font plus \fontdimen2\font minus \fontdimen1\font
\dag\mbox{} }

\newcommand{\znackaStrofaZalmu}{ 
  \rubr{--}
}

\newcommand{\doxologieZkratka}{%
  \nopagebreak%
  \hspace{\fill}\mbox{}\linebreak[0]\hspace*{\parindent}\mbox{Sláva Otci.}%
}

% horizontalni cara dlouha jako pul stranky siroky sloupec sloupec
% ve svazku antifonare
\newcommand{\oddelovac}{
\noindent \line(1,0){150}
}


% z logiky liturgickych knih by znacky pro versiky mely byt
% rubrikovane, ne tucne. Zkousel jsem to, to ale v okoli zanikaji
% a myslim ze je dobre je vyrazne odlisit od psalmodie, ktera je alespon
% v zaltari bez not obklopuje
\newcommand{\versikSamostatny}[2]{
 
  \vspace{3mm}
  \noindent \textbf{V.} #1\\
  \textbf{O.} #2
}
\newcommand{\versikCteni}[2]{
  \versikSamostatny{#1}{#2}
}
\newcommand{\versik}[3]{

  \vspace{1mm}
  \rubrika{#1}\\
  \noindent \textbf{V.} #2\\
  \textbf{O.} #3
}
\newcommand{\versikTercie}[2]{\versik{dopoledne:}{#1}{#2}}
\newcommand{\versikSexta}[2]{\versik{v poledne:}{#1}{#2}}
\newcommand{\versikNona}[2]{\versik{odpoledne:}{#1}{#2}}

